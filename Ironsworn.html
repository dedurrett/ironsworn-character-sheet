<table>
    <tr>
        <td width="55%"><h2>Character</h2></td>
        <td width="5%"><span ></span></td>
        <td width="40%"><h2>Experience</h2></td>
    </tr>
    <tr>
        <td width="55%"><input type="text" class="pc-name" name="attr_PC_NAME" placeholder="Character Name"></td>
        <td width="5%"><span ></span></td>
        <td width="40%">
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <br>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
            <input type="checkbox"><span></span>
        </td>
    </tr>
</table>
<hr>
<table>
    <tr>
        <td class="momentum" width="10%">
            <div class="momentum-box">
                <h3>+10</h3>
                <input type="radio" name="attr_PC_MOMENTUM" value="10">
            </div>
            <div class="momentum-box">
                <h3>+ 9</h3>
                <input type="radio" name="attr_PC_MOMENTUM" value="9">
            </div>
            <div class="momentum-box">
                <h3>+ 8</h3>
                <input type="radio" name="attr_PC_MOMENTUM" value="8">
            </div>
            <div class="momentum-box">
                <h3>+ 7</h3>
                <input type="radio" name="attr_PC_MOMENTUM" value="7">
            </div>
            <div class="momentum-box">
                <h3>+ 6</h3>
                <input type="radio" name="attr_PC_MOMENTUM" value="6">
            </div>
            <div class="momentum-box">
                <h3>+ 5</h3>
                <input type="radio" name="attr_PC_MOMENTUM" value="5">
            </div>
            <div class="momentum-box">
                <h3>+ 4</h3>
                <input type="radio" name="attr_PC_MOMENTUM" value="4">
            </div>
            <div class="momentum-box">
                <h3>+ 3</h3>
                <input type="radio" name="attr_PC_MOMENTUM" value="3">
            </div>
            <div class="momentum-box">
                <h3>+ 2</h3>
                <input type="radio" name="attr_PC_MOMENTUM" value="2" checked="checked">
            </div>
            <div class="momentum-box">
                <h3>+ 1</h3>
                <input type="radio" name="attr_PC_MOMENTUM" value="1">
            </div>
            <div class="momentum-box">
                <h3>0</h3>
                <input type="radio" name="attr_PC_MOMENTUM" value="0">
            </div>
            <div class="momentum-box">
                <h3>- 1</h3>
                <input type="radio" name="attr_PC_MOMENTUM" value="-1">
            </div>
            <div class="momentum-box">
                <h3>- 2</h3>
                <input type="radio" name="attr_PC_MOMENTUM" value="-2">
            </div>
            <div class="momentum-box">
                <h3>- 3</h3>
                <input type="radio" name="attr_PC_MOMENTUM" value="-3">
            </div>
            <div class="momentum-box">
                <h3>- 4</h3>
                <input type="radio" name="attr_PC_MOMENTUM" value="-4">
            </div>
            <div class="momentum-box">
                <h3>- 5</h3>
                <input type="radio" name="attr_PC_MOMENTUM" value="-5">
            </div>
            <div class="momentum-box">
                <h3>- 6</h3>
                <input type="radio" name="attr_PC_MOMENTUM" value="-6">
            </div>
            <div class="momentum-input-box">
                <h3>MAX</h3>
                <h3><span name="attr_PC_MAX_MOMENTUM"></span></h3>
                <input type="text" class="sheet-hidden" name="attr_PC_MAX_MOMENTUM" value="10">
            </div>
            <div class="momentum-input-box">
                <h3>RESET</h3>
                <h3><span name="attr_PC_RESET_MOMENTUM"></span></h3>
                <input type="text" class="sheet-hidden" name="attr_PC_RESET_MOMENTUM" value="2">
            </div>
        </td>
        <td width="5%">
            <hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert">
            <hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert">
            <hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert">
            <hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert">
            <hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert">
            <hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert">
            <hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert">
            <hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert">
            <hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert">
            <hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert">
        </td>
        <td class="tracks" width="69%">
            <div class="stats">
                <div class="stat">
                    <button type="roll" title="Roll +Edge" name="rollEdge" value="&{template:ironsworn} {{name=@{PC_NAME} +edge}} {{action=[[1d6+@{PC_EDGE}+?{Modifier|0}]]}} {{challenge=[[d10]] [[1d10]]}}"></button>
                    <h3 class="stats-title">EDGE</h3>
                    <input type="text" class="stats-input"  name="attr_PC_EDGE" value="1">
                </div>
                <div class="stat">
                    <button type="roll" title="Roll +Iron" name="rollIron" value="&{template:ironsworn} {{name=@{PC_NAME} +iron}} {{action=[[1d6+@{PC_IRON}+?{Modifier|0}]]}} {{challenge=[[d10]] [[1d10]]}}"></button>
                    <h3 class="stats-title">IRON</h3>
                    <input type="text" class="stats-input" name="attr_PC_IRON" value="1">
                </div>
                <div class="stat">
                    <button type="roll" title="Roll +Heart" name="rollHeart" value="&{template:ironsworn} {{name=@{PC_NAME} +heart}} {{action=[[1d6+@{PC_HEART}+?{Modifier|0}]]}} {{challenge=[[d10]] [[1d10]]}}"></button>
                    <h3 class="stats-title">HEART</h3>
                    <input type="text" class="stats-input" name="attr_PC_HEART" value="1">
                </div>
                <div class="stat">
                    <button type="roll" title="Roll +Shadow" name="rollShadow" value="&{template:ironsworn} {{name=@{PC_NAME} +shadow}} {{action=[[1d6+@{PC_SHADOW}+?{Modifier|0}]]}} {{challenge=[[d10]] [[1d10]]}}"></button>
                    <h3 class="stats-title">SHADOW</h3>
                    <input type="text" class="stats-input" name="attr_PC_SHADOW" value="1">
                    </div>
                <div class="stat">
                    <button type="roll" title="Roll +Wits" name="rollWits" value="&{template:ironsworn} {{name=@{PC_NAME} +wits}} {{action=[[1d6+@{PC_WITS}+?{Modifier|0}]]}} {{challenge=[[d10]] [[1d10]]}}"></button>
                    <h3 class="stats-title">WITS</h3>
                    <input type="text" class="stats-input" name="attr_PC_WITS" value="1">
                </div>
            </div>
            <br>
            <div class="bonds">
                <h3>--------------------------------------------------------------------BONDS--------------------------------------------------------------------</h3>
                <br>
                <div class="bond">
                    <div>
                        <select name="attr_bond-0" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_bond-1" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_bond-2" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_bond-3" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_bond-4" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_bond-5" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_bond-6" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_bond-7" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_bond-8" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_bond-9" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <input type="text" class="hidden" name="attr_bond-filled" value="floor((@{bond-0}+@{bond-1}+@{bond-2}+@{bond-3}+@{bond-4}+@{bond-5}+@{bond-6}+@{bond-7}+@{bond-8}+@{bond-9})/4)" disabled="true">
                    <div>
                </div>
            </div>
            <br>
            <div class="vows">
                <h3>----------------------------------------------------------------------VOWS----------------------------------------------------------------------</h3>
                <br>
                <input type="text" class="vow-name" name="attr_vow1_NAME">
                <div class="vows-header">
                    <input type="radio" name="attr_vow1_RANK" value="1"><h5>Troublesome</h5>
                    <input type="radio" name="attr_vow1_RANK" value="2"><h5>Dangerous</h5>
                    <input type="radio" name="attr_vow1_RANK" value="3"><h5>Formidable</h5>
                    <input type="radio" name="attr_vow1_RANK" value="4"><h5>Extreme</h5>
                    <input type="radio" name="attr_vow1_RANK" value="5"><h5>Epic</h5>
                </div>
                <div class="vow">
                    <div>
                        <select name="attr_vow1-0" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow1-1" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow1-2" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow1-3" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow1-4" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow1-5" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow1-6" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow1-7" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow1-8" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow1-9" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <button type="roll" title="Fullfill your Vow" name="rollVow1" value="&{template:ironsworn} {{name=@{PC_NAME}}} {{vowname=@{vow1_NAME}}} {{vow=[[@{vow1-filled}]]}} {{challenge=[[d10]] [[1d10]]}}"></button>
                        <input type="text" class="hidden" name="attr_vow1-filled" value="floor((@{vow1-0}+@{vow1-1}+@{vow1-2}+@{vow1-3}+@{vow1-4}+@{vow1-5}+@{vow1-6}+@{vow1-7}+@{vow1-8}+@{vow1-9})/4)" disabled="true">
                    <div>
                </div>
            </div>
            <div class="vows">
                <br>
                <input type="text" class="vow-name" name="attr_vow2_NAME">
                <div class="vows-header">
                    <input type="radio" name="attr_vow2_RANK" value="1"><h5>Troublesome</h5>
                    <input type="radio" name="attr_vow2_RANK" value="2"><h5>Dangerous</h5>
                    <input type="radio" name="attr_vow2_RANK" value="3"><h5>Formidable</h5>
                    <input type="radio" name="attr_vow2_RANK" value="4"><h5>Extreme</h5>
                    <input type="radio" name="attr_vow2_RANK" value="5"><h5>Epic</h5>
                </div>
                <div class="vow">
                    <div>
                        <select name="attr_vow2-0" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow2-1" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow2-2" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow2-3" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow2-4" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow2-5" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow2-6" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow2-7" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow2-8" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow2-9" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <button type="roll" title="Fullfill your Vow" name="rollVow2" value="&{template:ironsworn} {{name=@{PC_NAME}}} {{vowname=@{vow2_NAME}}} {{vow=[[@{vow2-filled}]]}} {{challenge=[[d10]] [[1d10]]}}"></button>
                        <input type="text" class="hidden" name="attr_vow2-filled" value="floor((@{vow2-0}+@{vow2-1}+@{vow2-2}+@{vow2-3}+@{vow2-4}+@{vow2-5}+@{vow2-6}+@{vow2-7}+@{vow2-8}+@{vow2-9})/4)" disabled="true">
                    <div>
                </div>
            </div>
            <div class="vows">
                <br>
                <input type="text" class="vow-name" name="attr_vow3_NAME">
                <div class="vows-header">
                    <input type="radio" name="attr_vow3_RANK" value="1"><h5>Troublesome</h5>
                    <input type="radio" name="attr_vow3_RANK" value="2"><h5>Dangerous</h5>
                    <input type="radio" name="attr_vow3_RANK" value="3"><h5>Formidable</h5>
                    <input type="radio" name="attr_vow3_RANK" value="4"><h5>Extreme</h5>
                    <input type="radio" name="attr_vow3_RANK" value="5"><h5>Epic</h5>
                </div>
                <div class="vow">
                    <div>
                        <select name="attr_vow3-0" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow3-1" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow3-2" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow3-3" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow3-4" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow3-5" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow3-6" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow3-7" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow3-8" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow3-9" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <button type="roll" title="Fullfill your Vow" name="rollVow3" value="&{template:ironsworn} {{name=@{PC_NAME}}} {{vowname=@{vow3_NAME}}} {{vow=[[@{vow3-filled}]]}} {{challenge=[[d10]] [[1d10]]}}"></button>
                        <input type="text" class="hidden" name="attr_vow3-filled" value="floor((@{vow3-0}+@{vow3-1}+@{vow3-2}+@{vow3-3}+@{vow3-4}+@{vow3-5}+@{vow3-6}+@{vow3-7}+@{vow3-8}+@{vow3-9})/4)" disabled="true">
                    <div>
                </div>
            </div>
            <div class="vows">
                <br>
                <input type="text" class="vow-name" name="attr_vow4_NAME">
                <div class="vows-header">
                    <input type="radio" name="attr_vow4_RANK" value="1"><h5>Troublesome</h5>
                    <input type="radio" name="attr_vow4_RANK" value="2"><h5>Dangerous</h5>
                    <input type="radio" name="attr_vow4_RANK" value="3"><h5>Formidable</h5>
                    <input type="radio" name="attr_vow4_RANK" value="4"><h5>Extreme</h5>
                    <input type="radio" name="attr_vow4_RANK" value="5"><h5>Epic</h5>
                </div>
                <div class="vow">
                    <div>
                        <select name="attr_vow4-0" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow4-1" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow4-2" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow4-3" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow4-4" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow4-5" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow4-6" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow4-7" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow4-8" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow4-9" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <button type="roll" title="Fullfill your Vow" name="rollVow4" value="&{template:ironsworn} {{name=@{PC_NAME}}} {{vowname=@{vow4_NAME}}} {{vow=[[@{vow4-filled}]]}} {{challenge=[[d10]] [[1d10]]}}"></button>
                        <input type="text" class="hidden" name="attr_vow4-filled" value="floor((@{vow4-0}+@{vow4-1}+@{vow4-2}+@{vow4-3}+@{vow4-4}+@{vow4-5}+@{vow4-6}+@{vow4-7}+@{vow4-8}+@{vow4-9})/4)" disabled="true">
                    <div>
                </div>
            </div>
            <div class="vows">
                <br>
                <input type="text" class="vow-name" name="attr_vow5_NAME">
                <div class="vows-header">
                    <input type="radio" name="attr_vow5_RANK" value="1"><h5>Troublesome</h5>
                    <input type="radio" name="attr_vow5_RANK" value="2"><h5>Dangerous</h5>
                    <input type="radio" name="attr_vow5_RANK" value="3"><h5>Formidable</h5>
                    <input type="radio" name="attr_vow5_RANK" value="4"><h5>Extreme</h5>
                    <input type="radio" name="attr_vow5_RANK" value="5"><h5>Epic</h5>
                </div>
                <div class="vow">
                    <div>
                        <select name="attr_vow5-0" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow5-1" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow5-2" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow5-3" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow5-4" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow5-5" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow5-6" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow5-7" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow5-8" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <select name="attr_vow5-9" class="progress-input">
                            <option value="0" selected></option>
                            <option value="1">-</option>
                            <option value="2">+</option>
                            <option value="3">*</option>
                            <option value="4">#</option>
                        </select>
                        <button type="roll" title="Fullfill your Vow" name="rollVow5" value="&{template:ironsworn} {{name=@{PC_NAME}}} {{vowname=@{vow5_NAME}}} {{vow=[[@{vow5-filled}]]}} {{challenge=[[d10]] [[1d10]]}}"></button>
                        <input type="text" class="hidden" name="attr_vow5-filled" value="floor((@{vow5-0}+@{vow5-1}+@{vow5-2}+@{vow5-3}+@{vow5-4}+@{vow5-5}+@{vow5-6}+@{vow5-7}+@{vow5-8}+@{vow5-9})/4)" disabled="true">
                    <div>
                </div>
            </div>
            <br>
            <div class="debilities">
                <h3>---------------------------------------------------------------DEBILITIES---------------------------------------------------------------</h3>
                <br>
                <div class="debility">
                    <table width="47%">
                        <tr>
                            <td colspan="4"><h4 class="heading-left">CONDITIONS</h4></td>
                        </tr>
                        <tr>
                            <td width="10%"><input type="checkbox" name="attr_debilWounded"><span></span></td>
                            <td width="40%"><h5>Wounded</h5></td>
                            <td width="10%"><input type="checkbox" name="attr_debilShaken"><span></span></td>
                            <td width="40%"><h5>Shaken</h5></td>
                        </tr>
                        <tr>
                            <td width="10%"><input type="checkbox" name="attr_debilUnprepared"><span></span></td>
                            <td width="40%"><h5>Unprepared</h5></td>
                            <td width="10%"><input type="checkbox" name="attr_debilEncumbered"><span></span></td>
                            <td width="40%"><h5>Encumbered</h5></td>
                        </tr>
                    </table>
                    <table width="6%"></table>
                    <table width="47%">
                        <tr>
                            <td colspan="4"><h4 class="heading-left">BURDENS</h4></td>
                        </tr>
                        <tr>
                            <td width="10%"><input type="checkbox" name="attr_debilMarked"><span></span></td>
                            <td width="40%"><h5>Marked</h5></td>
                            <td width="10%"><input type="checkbox" name="attr_debilHaunted"><span></span></td>
                            <td width="40%"><h5>Haunted</h5></td>
                        </tr>
                        <tr>
                            <td colspan="4"><h4 class="heading-left">BANES</h4></td>
                        </tr>
                        <tr>
                            <td width="10%"><input type="checkbox" name="attr_debilMaimed"><span></span></td>
                            <td width="40%"><h5>Maimed</h5></td>
                            <td width="10%"><input type="checkbox" name="attr_debilCorrupted"><span></span></td>
                            <td width="40%"><h5>Corrupted</h5></td>
                        </tr>
                    </table>
                </div>
            </div>
        </td>
        <td width="5%">
            <hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert">
            <hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert">
            <hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert">
            <hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert">
            <hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert">
            <hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert">
            <hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert">
            <hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert">
            <hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert">
            <hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert"><hr class="vert">
        </td>
        <td class="resources" width="10%">
            <div class="resources-box">
                <button type="roll" title="Roll +Health" name="rollHealth" value="&{template:ironsworn} {{name=@{PC_NAME} +health}} {{action=[[1d6+@{PC_HEALTH}+?{Modifier|0}]]}} {{challenge=[[d10]] [[1d10]]}}"></button>
                <h4>HEALTH</h4>
            </div>
            <div class="resources-box">
                <h3>+ 5</h3>
                <input type="radio"name="attr_PC_HEALTH" value="5" checked="checked">
            </div>
            <div class="resources-box">
                <h3>+ 4</h3>
                <input type="radio" name="attr_PC_HEALTH" value="4">
            </div>
            <div class="resources-box">
                <h3>+ 3</h3>
                <input type="radio" name="attr_PC_HEALTH" value="3">
            </div>
            <div class="resources-box">
                <h3>+ 2</h3>
                <input type="radio" name="attr_PC_HEALTH" value="2">
            </div>
            <div class="resources-box">
                <h3>+ 1</h3>
                <input type="radio" name="attr_PC_HEALTH" value="1">
            </div>
            <div class="resources-box">
                <h3>0</h3>
                <input type="radio" name="attr_PC_HEALTH" value="0">
            </div>
            <div class="resources-title-box">
                <button type="roll" title="Roll +Spirit" name="rollSpirit" value="&{template:ironsworn} {{name=@{PC_NAME} +spirit}} {{action=[[1d6+@{PC_SPIRIT}+?{Modifier|0}]]}} {{challenge=[[d10]] [[1d10]]}}"></button>
                <h4>SPIRIT</h4>
            </div>
            <div class="resources-box">
                <h3>+ 5</h3>
                <input type="radio" name="attr_PC_SPIRIT" value="5" checked="checked">
            </div>
            <div class="resources-box">
                <h3>+ 4</h3>
                <input type="radio" name="attr_PC_SPIRIT" value="4">
            </div>
            <div class="resources-box">
                <h3>+ 3</h3>
                <input type="radio" name="attr_PC_SPIRIT" value="3">
            </div>
            <div class="resources-box">
                <h3>+ 2</h3>
                <input type="radio" name="attr_PC_SPIRIT" value="2">
            </div>
            <div class="resources-box">
                <h3>+ 1</h3>
                <input type="radio" name="attr_PC_SPIRIT" value="1">
            </div>
            <div class="resources-box">
                <h3>0</h3>
                <input type="radio" name="attr_PC_SPIRIT" value="0">
            </div>
            <div class="resources-title-box">
                <button type="roll" title="Roll +Supply" name="rollSupply" value="&{template:ironsworn} {{name=@{PC_NAME} +supply}} {{action=[[1d6+@{PC_SUPPLY}+?{Modifier|0}]]}} {{challenge=[[d10]] [[1d10]]}}"></button>
                <h4>SUPPLY</h4>
            </div>
            <div class="resources-box">
                <h3>+ 5</h3>
                <input type="radio" name="attr_PC_SUPPLY" value="5" checked="checked">
            </div>
            <div class="resources-box">
                <h3>+ 4</h3>
                <input type="radio" name="attr_PC_SUPPLY" value="4">
            </div>
            <div class="resources-box">
                <h3>+ 3</h3>
                <input type="radio" name="attr_PC_SUPPLY" value="3">
            </div>
            <div class="resources-box">
                <h3>+ 2</h3>
                <input type="radio" name="attr_PC_SUPPLY" value="2">
            </div>
            <div class="resources-box">
                <h3>+ 1</h3>
                <input type="radio" name="attr_PC_SUPPLY" value="1">
            </div>
            <div class="resources-box">
                <h3>0</h3>
                <input type="radio" name="attr_PC_SUPPLY" value="0">
            </div>
        </td>
    </tr>
</table>
<hr>
<table>
    <tr><h1>Ironsworn</h1></tr>
</table>
<!-- Roll Templates -->
<rolltemplate class="sheet-rolltemplate-ironsworn">
    <table>
        {{#action}}
            <tr><th colspan="2">{{name}}</th></tr>
            <tr><td><span>Action Die: </span></td><td><span>{{action}}</span></td></tr>
            <tr><td><span>Challenge Dice: </span></td><td><span>{{challenge}}</span></td></tr>
        {{/action}}
        {{#vow}}
            <tr><th colspan="2">{{name}}<br>{{vowname}}</th></tr>
            <tr><td><span>Vow Progress: </span></td><td><span>{{vow}}</span></td></tr>
            <tr><td><span>Challenge Dice: </span></td><td><span>{{challenge}}</span></td></tr>
        {{/vow}}
        {{#custom}}
            <tr><th colspan="2">{{name}}</th></tr>
            {{#allprops() custom name}}
               <tr><td><span>{{key}}</span></td><td><span>{{value}}</span></td>
            {{/allprops() custom name}}
        {{/custom}}
    </table>

</rolltemplate>
<!-- Sheet workers -->
<script type="text/worker">
// Debilities update Momentum MAX and RESET.
on('change:debilWounded change:debilShaken change:debilUnprepared change:debilEncumbered change:debilMarked change:debilHaunted change:debilMaimed change:debilCorrupted', function() {
    var numDebilities=0
    getAttrs(["debilWounded","debilShaken", "debilUnprepared", "debilEncumbered", "debilMarked", "debilHaunted", "debilMaimed", "debilCorrupted", "PC_MAX_MOMENTUM", "PC_RESET_MOMENTUM"], function(values) {
        if(values.debilWounded == "on") numDebilities=numDebilities+1;
        if(values.debilShaken == "on") numDebilities=numDebilities+1;
        if(values.debilUnprepared == "on") numDebilities=numDebilities+1;
        if(values.debilEncumbered == "on") numDebilities=numDebilities+1;
        if(values.debilMarked == "on") numDebilities=numDebilities+1;
        if(values.debilHaunted == "on") numDebilities=numDebilities+1;
        if(values.debilMaimed == "on") numDebilities=numDebilities+1;
        if(values.debilCorrupted == "on") numDebilities=numDebilities+1;
        setAttrs({ PC_MAX_MOMENTUM: (10 - numDebilities)});
        if (numDebilities===0) setAttrs({ PC_RESET_MOMENTUM: 2});
        if (numDebilities===1) setAttrs({ PC_RESET_MOMENTUM: 1});
        if (numDebilities>1) setAttrs({ PC_RESET_MOMENTUM: 0});

    });
});

//Supply reaching 0 marks Unprepared

//Cannot increase Health while Wounded
on('change:PC_HEALTH', function(eventinfo) {
    getAttrs(["debilWounded"], function(values) {
        if(values.debilWounded == "on") {
            if (parseInt(eventinfo.newValue) > parseInt(eventinfo.previousValue)) {
                setAttrs({PC_HEALTH: eventinfo.previousValue});
            }
        }
    });
});
//Cannot increase Spirit while Shaken
on('change:PC_SPIRIT', function(eventinfo) {
    getAttrs(["debilShaken"], function(values) {
        if(values.debilShaken == "on") {
            if (parseInt(eventinfo.newValue) > parseInt(eventinfo.previousValue)) {
                setAttrs({PC_SPIRIT: eventinfo.previousValue});
            }
        }
    });
});
//Cannot increase Supply while Unprepared
on('change:PC_SUPPLY', function(eventinfo) {
    getAttrs(["debilUnprepared"], function(values) {
        if(values.debilUnprepared == "on") {
            if (parseInt(eventinfo.newValue) > parseInt(eventinfo.previousValue)) {
                setAttrs({PC_SUPPLY: eventinfo.previousValue});
            }
        }
    });
    if (parseInt(eventinfo.newValue) === 0) setAttrs({debilUnprepared: "on"});
});
// Do not allow Momentum to go over MAX.
on('change:PC_MOMENTUM change:PC_MAX_MOMENTUM', function() {
    getAttrs(["PC_MOMENTUM","PC_MAX_MOMENTUM"], function(values) {
        if(parseInt(values.PC_MOMENTUM) > parseInt(values.PC_MAX_MOMENTUM)) setAttrs({ PC_MOMENTUM: parseInt(values.PC_MAX_MOMENTUM)});
    });
});
</script>

